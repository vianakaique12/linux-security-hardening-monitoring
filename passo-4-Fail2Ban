###ğŸš¨ Passo 4 â€” ProteÃ§Ã£o contra Ataques de ForÃ§a Bruta com Fail2Ban
###ğŸ¯ Objetivo

#Implementar um mecanismo de detecÃ§Ã£o e bloqueio automÃ¡tico de tentativas de acesso maliciosas ao serviÃ§o SSH.

#Este passo adiciona uma camada ativa de defesa, complementando:

#Hardening de SSH (Passo 2)

#Firewall UFW (Passo 3)

###ğŸ§ª Ambiente

#Sistema Operacional: Kali Linux (VirtualBox)

#ServiÃ§o protegido: SSH

#Porta SSH: 2222

#Ferramenta: Fail2Ban


###ğŸ§  Conceito

#O Fail2Ban monitora arquivos de log do sistema e, ao identificar padrÃµes de ataque (como mÃºltiplas falhas de autenticaÃ§Ã£o), aplica bloqueios automÃ¡ticos no firewall.

#ğŸ“Œ Atua como um IDS reativo, reduzindo o impacto de ataques automatizados.

###ğŸ” InstalaÃ§Ã£o do Fail2Ban

#Foi verificado se o Fail2Ban estava instalado no sistema.
#Caso nÃ£o estivesse presente, foi realizada a instalaÃ§Ã£o.

sudo apt update
sudo apt install fail2ban -y

###ğŸ” AtivaÃ§Ã£o do ServiÃ§o

#O serviÃ§o foi habilitado e iniciado para garantir proteÃ§Ã£o contÃ­nua.

sudo systemctl enable fail2ban
sudo systemctl start fail2ban

###ğŸ’¾ ConfiguraÃ§Ã£o Segura

#Por boas prÃ¡ticas, a configuraÃ§Ã£o padrÃ£o nÃ£o foi alterada diretamente.

#Foi criado um arquivo de configuraÃ§Ã£o local:

sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local

###âš™ï¸ ConfiguraÃ§Ã£o do Jail SSH

#No arquivo jail.local, o jail do SSH foi habilitado e ajustado para o ambiente.

[sshd]
enabled = true
port = 2222
maxretry = 3
findtime = 600
bantime = 600

###ğŸ” ParÃ¢metros aplicados

#maxretry: nÃºmero mÃ¡ximo de tentativas

#findtime: janela de tempo para contagem

#bantime: duraÃ§Ã£o do bloqueio

###ğŸ”„ ReinicializaÃ§Ã£o do Fail2Ban

#ApÃ³s as alteraÃ§Ãµes, o serviÃ§o foi reiniciado para aplicar a configuraÃ§Ã£o.

sudo systemctl restart fail2ban

###ğŸ§ª ValidaÃ§Ã£o da ProteÃ§Ã£o

#Foi verificado o status do jail SSH no Fail2Ban.

sudo fail2ban-client status sshd

Status for the jail: sshd
|- Filter
|  |- Currently failed: 0
|  |- Total failed:     0
|  `- Journal matches:  _SYSTEMD_UNIT=ssh.service + _COMM=sshd
`- Actions
   |- Currently banned: 0
   |- Total banned:     0
ğŸ“Œ A saÃ­da confirma:

#Jail ativo

#Tentativas monitoradas

#IPs banidos (quando aplicÃ¡vel)

###ğŸ“Š Impacto de SeguranÃ§a

#Com o Fail2Ban ativo:

#Ataques de forÃ§a bruta sÃ£o mitigados automaticamente

#IPs maliciosos sÃ£o bloqueados em tempo real

#Logs de seguranÃ§a passam a gerar resposta ativa

###âœ… Resultado

#O sistema passou a contar com proteÃ§Ã£o automÃ¡tica contra ataques ao SSH, fortalecendo a postura de seguranÃ§a do ambiente.

#Este passo conclui a defesa em profundidade aplicada ao servidor Linux.

###ğŸ§  Aprendizados

#Uso de logs como fonte de detecÃ§Ã£o

#AutomaÃ§Ã£o de resposta a incidentes

#IntegraÃ§Ã£o entre SSH, firewall e Fail2Ban

###ğŸ ConclusÃ£o do Projeto

#Com os Passos 2, 3 e 4, foi implementado um Hardening completo de acesso remoto em Linux, simulando prÃ¡ticas reais de seguranÃ§a defensiva.
