# ğŸ” Hardening de SSH no Kali Linux

### ğŸ“Œ Objetivo
Implementar boas prÃ¡ticas de seguranÃ§a no serviÃ§o SSH para reduzir riscos como:
- Ataques de forÃ§a bruta
- Acesso nÃ£o autorizado
- EnumeraÃ§Ã£o de usuÃ¡rios
- Comprometimento do usuÃ¡rio root

Este hardening simula a atuaÃ§Ã£o de um **Analista de SeguranÃ§a / Blue Team** responsÃ¡vel por proteger um servidor Linux.

---

### ğŸ§ª Ambiente
- Sistema Operacional: Kali Linux
- ServiÃ§o: OpenSSH Server
- Arquivo de configuraÃ§Ã£o: `/etc/ssh/sshd_config`
- Acesso remoto via SSH

---

### ğŸ” VerificaÃ§Ã£o inicial do serviÃ§o SSH
Antes das alteraÃ§Ãµes, foi verificado se o serviÃ§o SSH estava ativo:

```bash
sudo systemctl status ssh

Caso nÃ£o estivesse instalado:

sudo apt update
sudo apt install openssh-server -y

### ğŸ’¾ Backup da configuraÃ§Ã£o original

Antes de qualquer modificaÃ§Ã£o, foi realizado backup do arquivo original:

sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak

### âš™ï¸ ConfiguraÃ§Ãµes de Hardening Aplicadas
## ğŸ”´ Desativar login como root
PermitRootLogin no


Motivo: evita ataques diretos ao usuÃ¡rio root, que Ã© o principal alvo em tentativas de invasÃ£o.

###ğŸ” ForÃ§ar uso de protocolo seguro
Protocol 2


Motivo: elimina versÃµes antigas e inseguras do protocolo SSH.

### ğŸ‘¤ Restringir usuÃ¡rios permitidos
AllowUsers kali


Motivo: impede que usuÃ¡rios nÃ£o autorizados tentem autenticaÃ§Ã£o no serviÃ§o SSH.

### ğŸ”‘ AutenticaÃ§Ã£o por chave pÃºblica
PubkeyAuthentication yes
PasswordAuthentication no


Motivo: autenticaÃ§Ã£o por chave Ã© mais segura que senha e reduz ataques de brute force.

### âš ï¸ A autenticaÃ§Ã£o por senha sÃ³ foi desativada apÃ³s a configuraÃ§Ã£o correta das chaves SSH.

### â±ï¸ Limitar tentativas de login e tempo
MaxAuthTries 3
LoginGraceTime 30


Motivo: reduz a eficÃ¡cia de ataques automatizados.

### ğŸš« Desativar recursos desnecessÃ¡rios
X11Forwarding no
AllowTcpForwarding no


Motivo: diminui a superfÃ­cie de ataque do serviÃ§o SSH.

### ğŸ” Alterar porta padrÃ£o (opcional)
Port 2222


Motivo: reduz ruÃ­do de scanners automÃ¡ticos que atacam a porta 22 por padrÃ£o.

### ğŸ§ª ValidaÃ§Ã£o da configuraÃ§Ã£o

Antes de reiniciar o serviÃ§o, foi validada a sintaxe:

sudo sshd -t


Nenhum erro foi retornado, indicando configuraÃ§Ã£o vÃ¡lida.

### ğŸ”„ ReinicializaÃ§Ã£o do serviÃ§o SSH
sudo systemctl restart ssh

### ğŸ”Œ Teste de conexÃ£o

Teste de acesso remoto ao servidor:

ssh -p 2222 kali@IP_DO_SERVIDOR


O acesso foi realizado com sucesso utilizando autenticaÃ§Ã£o por chave.

### ğŸ“Š Monitoramento de Logs

Para acompanhar tentativas de acesso e possÃ­veis ataques:

sudo tail -f /var/log/auth.log


Foram observadas tentativas de autenticaÃ§Ã£o invÃ¡lidas e conexÃµes bem-sucedidas, permitindo anÃ¡lise de eventos de seguranÃ§a.
