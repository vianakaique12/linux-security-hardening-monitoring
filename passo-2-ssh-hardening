###ğŸ” Passo 2 â€” Hardening de SSH no Kali Linux
###ğŸ¯ Objetivo

Fortalecer o serviÃ§o SSH aplicando boas prÃ¡ticas de seguranÃ§a para reduzir riscos como:

Ataques de forÃ§a bruta

Acesso nÃ£o autorizado

EnumeraÃ§Ã£o de usuÃ¡rios

Comprometimento do usuÃ¡rio root

Este passo simula a atuaÃ§Ã£o de um Analista de SeguranÃ§a (Blue Team) responsÃ¡vel por proteger o acesso remoto a um servidor Linux.

###ğŸ§ª Ambiente

Sistema Operacional: Kali Linux (VirtualBox)

ServiÃ§o: OpenSSH Server

Arquivo de configuraÃ§Ã£o: /etc/ssh/sshd_config

Acesso remoto via SSH

###ğŸ” VerificaÃ§Ã£o inicial do serviÃ§o SSH

Antes de aplicar qualquer alteraÃ§Ã£o, foi verificado se o serviÃ§o SSH estava ativo no sistema.

Caso o serviÃ§o nÃ£o estivesse instalado, foi realizada a instalaÃ§Ã£o do OpenSSH Server.

###ğŸ’¾ Backup da configuraÃ§Ã£o original

Antes de qualquer modificaÃ§Ã£o, foi criado um backup do arquivo de configuraÃ§Ã£o original do SSH, garantindo possibilidade de reversÃ£o em caso de erro.

ğŸ“Œ Boa prÃ¡tica essencial em ambientes reais.

###âš™ï¸ ConfiguraÃ§Ãµes de Hardening Aplicadas

As seguintes medidas de seguranÃ§a foram implementadas no arquivo sshd_config:

ğŸ”´ DesativaÃ§Ã£o do login como root
PermitRootLogin no

Motivo:
O usuÃ¡rio root Ã© o principal alvo de ataques. Desativar o login direto reduz drasticamente o risco de comprometimento total do sistema.

###ğŸ” AutenticaÃ§Ã£o por chave pÃºblica
PubkeyAuthentication yes
PasswordAuthentication no

Motivo:
AutenticaÃ§Ã£o por chave Ã© mais segura que senha e praticamente elimina ataques de forÃ§a bruta.

âš ï¸ A autenticaÃ§Ã£o por senha sÃ³ foi desativada apÃ³s a configuraÃ§Ã£o correta das chaves SSH.

###ğŸ‘¤ RestriÃ§Ã£o de usuÃ¡rios permitidos
AllowUsers kali


Motivo:
Limita quais usuÃ¡rios podem tentar autenticaÃ§Ã£o no serviÃ§o SSH, impedindo tentativas por contas inexistentes ou nÃ£o autorizadas.

###â±ï¸ LimitaÃ§Ã£o de tentativas de login
MaxAuthTries 3
LoginGraceTime 30


Motivo:
Reduz a eficÃ¡cia de ataques automatizados e scripts de brute force.

###ğŸš« DesativaÃ§Ã£o de recursos desnecessÃ¡rios
X11Forwarding no
AllowTcpForwarding no


Motivo:
Reduz a superfÃ­cie de ataque ao desabilitar funcionalidades que nÃ£o sÃ£o necessÃ¡rias para administraÃ§Ã£o remota.

###ğŸ” AlteraÃ§Ã£o da porta padrÃ£o do SSH
Port 2222


Motivo:
Diminui o ruÃ­do de scanners automÃ¡ticos que atacam a porta 22 por padrÃ£o.

ğŸ“Œ Medida complementar, nÃ£o substitui outras proteÃ§Ãµes.

###ğŸ§ª ValidaÃ§Ã£o da configuraÃ§Ã£o

Antes de reiniciar o serviÃ§o, a sintaxe do arquivo foi validada para evitar falhas de inicializaÃ§Ã£o.

ğŸ“Œ Nenhum erro foi identificado.

###ğŸ”„ ReinicializaÃ§Ã£o do serviÃ§o SSH

ApÃ³s as alteraÃ§Ãµes, o serviÃ§o SSH foi reiniciado para aplicar as novas configuraÃ§Ãµes.

###ğŸ”Œ Teste de Conectividade

Foi realizado teste de acesso remoto utilizando:

Porta customizada

AutenticaÃ§Ã£o por chave

UsuÃ¡rio autorizado

O acesso ocorreu com sucesso, confirmando que o hardening nÃ£o impactou a disponibilidade do serviÃ§o.

###ğŸ“Š Monitoramento de Logs

Foram analisados os logs de autenticaÃ§Ã£o para identificar tentativas de acesso invÃ¡lidas e conexÃµes legÃ­timas.

ğŸ“Œ Esta etapa permite:

DetecÃ§Ã£o de ataques

Auditoria de acessos

Base para implementaÃ§Ã£o do Fail2Ban 

###âœ… Resultado

O serviÃ§o SSH foi fortalecido com sucesso, reduzindo significativamente riscos de ataques e acessos indevidos, mantendo a funcionalidade operacional do sistema.

###ğŸ§  Aprendizados

ImportÃ¢ncia do princÃ­pio do menor privilÃ©gio

ReduÃ§Ã£o de superfÃ­cie de ataque

Hardening como camada essencial de defesa
